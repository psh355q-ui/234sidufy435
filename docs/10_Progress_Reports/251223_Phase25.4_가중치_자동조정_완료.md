# Phase 25.4: ì—ì´ì „íŠ¸ ê°€ì¤‘ì¹˜ ìë™ ì¡°ì • ë° ì•Œë¦¼ ì‹œìŠ¤í…œ ì™„ë£Œ

**ë‚ ì§œ**: 2025-12-23
**ë‹¨ê³„**: Phase 25.4 - Self-Learning Feedback Loop
**ìƒíƒœ**: âœ… ì™„ë£Œ

---

## ğŸ“‹ ëª©ì°¨

1. [ê°œìš”](#ê°œìš”)
2. [êµ¬í˜„ ë‚´ìš©](#êµ¬í˜„-ë‚´ìš©)
3. [ê°€ì¤‘ì¹˜ ê³„ì‚° ì•Œê³ ë¦¬ì¦˜](#ê°€ì¤‘ì¹˜-ê³„ì‚°-ì•Œê³ ë¦¬ì¦˜)
4. [ì €ì„±ê³¼ ì—ì´ì „íŠ¸ íƒì§€](#ì €ì„±ê³¼-ì—ì´ì „íŠ¸-íƒì§€)
5. [ê³¼ì‹ (Overconfident) íƒì§€](#ê³¼ì‹ -íƒì§€)
6. [ì•Œë¦¼ ì‹œìŠ¤í…œ](#ì•Œë¦¼-ì‹œìŠ¤í…œ)
7. [API ì—”ë“œí¬ì¸íŠ¸](#api-ì—”ë“œí¬ì¸íŠ¸)
8. [í…ŒìŠ¤íŠ¸ ê²°ê³¼](#í…ŒìŠ¤íŠ¸-ê²°ê³¼)
9. [ë‹¤ìŒ ë‹¨ê³„](#ë‹¤ìŒ-ë‹¨ê³„)

---

## ê°œìš”

Phase 25.4ì—ì„œëŠ” ì—ì´ì „íŠ¸ì˜ ì„±ê³¼ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°€ì¤‘ì¹˜ë¥¼ ìë™ìœ¼ë¡œ ì¡°ì •í•˜ê³ , ë¬¸ì œê°€ ìˆëŠ” ì—ì´ì „íŠ¸ë¥¼ íƒì§€í•˜ì—¬ ì•Œë¦¼ì„ ë³´ë‚´ëŠ” ì‹œìŠ¤í…œì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥

1. **ìë™ ê°€ì¤‘ì¹˜ ê³„ì‚°**: ì—ì´ì „íŠ¸ì˜ ì •í™•ë„ì— ë”°ë¼ ê°€ì¤‘ì¹˜ ìë™ ì¡°ì •
2. **ì €ì„±ê³¼ íƒì§€**: ì •í™•ë„ê°€ ë‚®ì€ ì—ì´ì „íŠ¸ ìë™ ê°ì§€
3. **ê³¼ì‹  íƒì§€**: ì‹ ë¢°ë„ê°€ ì‹¤ì œ ì„±ê³¼ë³´ë‹¤ ë†’ì€ ì—ì´ì „íŠ¸ ê°ì§€
4. **ì•Œë¦¼ ì‹œìŠ¤í…œ**: ë¬¸ì œ ë°œê²¬ ì‹œ ìë™ ì•Œë¦¼ ì „ì†¡
5. **ê°€ì¤‘ì¹˜ ì´ë ¥ ê´€ë¦¬**: ê°€ì¤‘ì¹˜ ë³€ê²½ ì´ë ¥ ì¶”ì 

---

## êµ¬í˜„ ë‚´ìš©

### 1. íŒŒì¼ ìƒì„±

#### `backend/ai/learning/agent_weight_manager.py`
ì—ì´ì „íŠ¸ ê°€ì¤‘ì¹˜ ê³„ì‚° ë° ê´€ë¦¬ í•µì‹¬ ë¡œì§

```python
class AgentWeightManager:
    """
    ì—ì´ì „íŠ¸ ê°€ì¤‘ì¹˜ ìë™ ê³„ì‚° ë° ê´€ë¦¬

    ê°€ì¤‘ì¹˜ ê³„ì‚° ê¸°ì¤€:
        - accuracy >= 70%: 1.2 (Strong)
        - accuracy >= 60%: 1.0 (Good)
        - accuracy >= 50%: 0.8 (Weak)
        - accuracy < 50%:  0.5 (Poor)

    ì‹ ë¢°ë„ ì¡°ì •:
        - ê³¼ì‹ (confidence > accuracy + 15%): íŒ¨ë„í‹° (-20% max)
        - ê³¼ì†Œí‰ê°€(accuracy > confidence + 15%): ë³´ë„ˆìŠ¤ (+10% max)
    """
```

**ì£¼ìš” ë©”ì„œë“œ**:
- `calculate_agent_weights(lookback_days=30)`: ê°€ì¤‘ì¹˜ ê³„ì‚°
- `detect_low_performers(threshold=0.50)`: ì €ì„±ê³¼ ì—ì´ì „íŠ¸ íƒì§€
- `detect_overconfident_agents(gap_threshold=0.20)`: ê³¼ì‹  ì—ì´ì „íŠ¸ íƒì§€
- `save_weights_history()`: ê°€ì¤‘ì¹˜ ë³€ê²½ ì´ë ¥ ì €ì¥

#### `backend/ai/learning/alert_system.py`
ì„±ê³¼ ì´ìŠˆ ì•Œë¦¼ ì‹œìŠ¤í…œ

```python
class AgentAlertSystem:
    """
    ì—ì´ì „íŠ¸ ì„±ê³¼ ì•Œë¦¼ ì‹œìŠ¤í…œ

    ì•Œë¦¼ ìœ í˜•:
        - LOW_PERFORMER: ì •í™•ë„ < 50%
        - CRITICAL_PERFORMER: ì •í™•ë„ < 45%
        - OVERCONFIDENT: ì‹ ë¢°ë„ ê°­ > 20%
        - HIGH_OVERCONFIDENT: ì‹ ë¢°ë„ ê°­ > 30%
    """
```

**ì£¼ìš” ë©”ì„œë“œ**:
- `check_and_send_alerts()`: ì•Œë¦¼ í™•ì¸ ë° ì „ì†¡
- `_send_alert()`: ë¡œê·¸/Slack/Email ì•Œë¦¼ ì „ì†¡
- `get_alerts_summary()`: ì•Œë¦¼ í†µê³„ ì¡°íšŒ

#### `backend/ai/learning/__init__.py`
ëª¨ë“ˆ ì´ˆê¸°í™” ë° ê³µê°œ API ì •ì˜

```python
from .agent_weight_manager import (
    AgentWeightManager,
    calculate_weights,
    get_low_performers,
    get_overconfident_agents
)

from .alert_system import (
    AgentAlertSystem,
    send_performance_alerts
)
```

---

## ê°€ì¤‘ì¹˜ ê³„ì‚° ì•Œê³ ë¦¬ì¦˜

### ê¸°ë³¸ ê°€ì¤‘ì¹˜ (Base Weight)

ì—ì´ì „íŠ¸ì˜ ì •í™•ë„ì— ë”°ë¼ ê¸°ë³¸ ê°€ì¤‘ì¹˜ ë¶€ì—¬:

```python
ACCURACY_THRESHOLDS = {
    "strong": 0.70,    # >= 70%
    "good": 0.60,      # >= 60%
    "weak": 0.50,      # >= 50%
}

WEIGHT_VALUES = {
    "strong": 1.2,     # ìš°ìˆ˜í•œ ì—ì´ì „íŠ¸
    "good": 1.0,       # í‘œì¤€ ê°€ì¤‘ì¹˜
    "weak": 0.8,       # ì•½í•œ ì—ì´ì „íŠ¸
    "poor": 0.5,       # ë§¤ìš° ì•½í•œ ì—ì´ì „íŠ¸
}
```

### ì‹ ë¢°ë„ ì¡°ì • (Confidence Adjustment)

ì‹ ë¢°ë„ì™€ ì‹¤ì œ ì„±ê³¼ì˜ ì°¨ì´ì— ë”°ë¼ ê°€ì¤‘ì¹˜ ì¡°ì •:

```python
confidence_gap = avg_confidence - accuracy

if confidence_gap > 0.15:  # ê³¼ì‹  (Overconfident)
    penalty = min(0.2, confidence_gap * 0.5)
    adjusted_weight = base_weight * (1 - penalty)

elif confidence_gap < -0.15:  # ê³¼ì†Œí‰ê°€ (Underconfident)
    bonus = min(0.1, abs(confidence_gap) * 0.3)
    adjusted_weight = base_weight * (1 + bonus)
```

### ìµœì†Œ ìƒ˜í”Œ ìš”êµ¬ì‚¬í•­

```python
MIN_SAMPLES_FOR_WEIGHT_CALC = 20
```

ìµœì†Œ 20ê°œì˜ íˆ¬í‘œ ë°ì´í„°ê°€ ìˆì–´ì•¼ ê°€ì¤‘ì¹˜ ê³„ì‚° ê°€ëŠ¥

### ê³„ì‚° ì˜ˆì‹œ

#### ì˜ˆì‹œ 1: ìš°ìˆ˜í•œ ì—ì´ì „íŠ¸ (ê¸°ìˆ  ì—ì´ì „íŠ¸)
- ì •í™•ë„: 72%
- ì‹ ë¢°ë„: 68%
- ì‹ ë¢°ë„ ê°­: -4% (ì•½ê°„ ê³¼ì†Œí‰ê°€)
- ê¸°ë³¸ ê°€ì¤‘ì¹˜: 1.2 (strong)
- ì¡°ì •: ê±°ì˜ ì—†ìŒ (ê°­ì´ 15% ë¯¸ë§Œ)
- **ìµœì¢… ê°€ì¤‘ì¹˜: 1.2**

#### ì˜ˆì‹œ 2: ê³¼ì‹  ì—ì´ì „íŠ¸ (ë‰´ìŠ¤ ì—ì´ì „íŠ¸)
- ì •í™•ë„: 55%
- ì‹ ë¢°ë„: 78%
- ì‹ ë¢°ë„ ê°­: +23% (ì‹¬ê°í•œ ê³¼ì‹ )
- ê¸°ë³¸ ê°€ì¤‘ì¹˜: 0.8 (weak)
- ì¡°ì •: 0.8 Ã— (1 - 0.115) = 0.708
- **ìµœì¢… ê°€ì¤‘ì¹˜: 0.71**

#### ì˜ˆì‹œ 3: ì €ì„±ê³¼ ì—ì´ì „íŠ¸ (ë§¤í¬ë¡œ ì—ì´ì „íŠ¸)
- ì •í™•ë„: 42%
- ì‹ ë¢°ë„: 70%
- ì‹ ë¢°ë„ ê°­: +28% (ë§¤ìš° ê³¼ì‹ )
- ê¸°ë³¸ ê°€ì¤‘ì¹˜: 0.5 (poor)
- ì¡°ì •: 0.5 Ã— (1 - 0.14) = 0.43
- **ìµœì¢… ê°€ì¤‘ì¹˜: 0.43**
- **ì•Œë¦¼ ë°œì†¡**: LOW_PERFORMER (Critical)

---

## ì €ì„±ê³¼ ì—ì´ì „íŠ¸ íƒì§€

### íƒì§€ ê¸°ì¤€

```python
def detect_low_performers(
    threshold: float = 0.50,    # 50% ì •í™•ë„ ê¸°ì¤€
    lookback_days: int = 30,
    min_samples: int = 20
) -> List[Dict]:
```

### ì‹¬ê°ë„ ë¶„ë¥˜

| ì •í™•ë„ ë²”ìœ„ | ì‹¬ê°ë„ | ì„¤ëª… |
|------------|--------|------|
| < 45% | `critical` | ì¦‰ì‹œ ì¡°ì¹˜ í•„ìš” |
| 45% ~ 50% | `warning` | ì£¼ì˜ ê´€ì°° í•„ìš” |

### ë°˜í™˜ ë°ì´í„° êµ¬ì¡°

```python
{
    "agent_name": "macro",
    "accuracy": 0.42,
    "total_votes": 45,
    "avg_confidence": 0.70,
    "severity": "critical"
}
```

---

## ê³¼ì‹  íƒì§€

### íƒì§€ ê¸°ì¤€

```python
def detect_overconfident_agents(
    gap_threshold: float = 0.20,    # 20% ê°­ ê¸°ì¤€
    lookback_days: int = 30,
    min_samples: int = 20
) -> List[Dict]:
```

### ì‹¬ê°ë„ ë¶„ë¥˜

| ì‹ ë¢°ë„ ê°­ | ì‹¬ê°ë„ | ì„¤ëª… |
|----------|--------|------|
| >= 30% | `high` | ì‹¬ê°í•œ ê³¼ì‹  |
| 20% ~ 30% | `medium` | ì ë‹¹í•œ ê³¼ì‹  |

### ë°˜í™˜ ë°ì´í„° êµ¬ì¡°

```python
{
    "agent_name": "news",
    "accuracy": 0.55,
    "avg_confidence": 0.80,
    "confidence_gap": 0.25,
    "total_votes": 60,
    "severity": "medium"
}
```

---

## ì•Œë¦¼ ì‹œìŠ¤í…œ

### ì•Œë¦¼ ìœ í˜•

#### 1. LOW_PERFORMER Alert
```python
{
    "type": "LOW_PERFORMER",
    "severity": "critical",
    "agent_name": "macro",
    "title": "Low Performing Agent: macro",
    "message": """
        Agent 'macro' has low accuracy: 42.0%
        Total votes: 45
        Severity: CRITICAL

        âš ï¸ Action required: Review agent logic or reduce weight
    """,
    "metrics": {
        "accuracy": 0.42,
        "total_votes": 45
    },
    "timestamp": "2025-12-23T10:30:00"
}
```

#### 2. OVERCONFIDENT Alert
```python
{
    "type": "OVERCONFIDENT",
    "severity": "medium",
    "agent_name": "news",
    "title": "Overconfident Agent: news",
    "message": """
        Agent 'news' is overconfident:
        Confidence: 80.0%
        Accuracy: 55.0%
        Gap: +25.0%

        ğŸ­ Agent is overestimating its predictions
    """,
    "metrics": {
        "accuracy": 0.55,
        "confidence": 0.80,
        "gap": 0.25
    },
    "timestamp": "2025-12-23T10:30:00"
}
```

### ì•Œë¦¼ ì „ì†¡ ì±„ë„

1. **ë¡œê·¸ (í˜„ì¬ êµ¬í˜„)**
   ```python
   logger.error("ğŸš¨ CRITICAL ALERT: {title}\n{message}")
   logger.warning("âš ï¸ WARNING: {title}\n{message}")
   ```

2. **Slack (TODO)**
   ```python
   def _send_slack_alert(alert: Dict):
       # Slack Webhook ì—°ë™
       pass
   ```

3. **Email (TODO)**
   ```python
   def _send_email_alert(alert: Dict):
       # SMTP ì´ë©”ì¼ ì „ì†¡
       pass
   ```

---

## API ì—”ë“œí¬ì¸íŠ¸

### 1. ê°€ì¤‘ì¹˜ ê³„ì‚° ë° ì•Œë¦¼ ì „ì†¡

```http
POST /api/performance/calculate-weights?lookback_days=30
```

**ì„¤ëª…**: ì—ì´ì „íŠ¸ ê°€ì¤‘ì¹˜ë¥¼ ê³„ì‚°í•˜ê³  ë¬¸ì œê°€ ìˆëŠ” ì—ì´ì „íŠ¸ë¥¼ íƒì§€í•˜ì—¬ ì•Œë¦¼ ì „ì†¡

**Query Parameters**:
- `lookback_days` (optional): ë¶„ì„ ê¸°ê°„ (ê¸°ë³¸ê°’: 30ì¼)

**Response**:
```json
{
    "status": "success",
    "weights": {
        "technical": {
            "agent_name": "technical",
            "accuracy": 0.72,
            "avg_confidence": 0.68,
            "confidence_gap": -0.04,
            "total_votes": 150,
            "old_weight": 1.0,
            "new_weight": 1.2,
            "weight_change": 0.2
        },
        "news": {
            "agent_name": "news",
            "accuracy": 0.55,
            "avg_confidence": 0.78,
            "confidence_gap": 0.23,
            "total_votes": 120,
            "old_weight": 1.0,
            "new_weight": 0.71,
            "weight_change": -0.29
        }
    },
    "low_performers": [
        {
            "agent_name": "macro",
            "accuracy": 0.42,
            "total_votes": 45,
            "avg_confidence": 0.70,
            "severity": "critical"
        }
    ],
    "overconfident_agents": [
        {
            "agent_name": "news",
            "accuracy": 0.55,
            "avg_confidence": 0.80,
            "confidence_gap": 0.25,
            "total_votes": 60,
            "severity": "medium"
        }
    ],
    "alerts": [
        {
            "type": "LOW_PERFORMER",
            "severity": "critical",
            "agent_name": "macro",
            "title": "Low Performing Agent: macro",
            "timestamp": "2025-12-23T10:30:00"
        },
        {
            "type": "OVERCONFIDENT",
            "severity": "medium",
            "agent_name": "news",
            "title": "Overconfident Agent: news",
            "timestamp": "2025-12-23T10:30:00"
        }
    ]
}
```

### 2. í˜„ì¬ ì—ì´ì „íŠ¸ ê°€ì¤‘ì¹˜ ì¡°íšŒ

```http
GET /api/performance/agent-weights
```

**Response**:
```json
{
    "technical": 1.2,
    "fundamental": 1.0,
    "news": 0.71,
    "risk": 0.8,
    "macro": 0.43
}
```

### 3. ì €ì„±ê³¼ ì—ì´ì „íŠ¸ ì¡°íšŒ

```http
GET /api/performance/low-performers?threshold=0.50&lookback_days=30
```

**Query Parameters**:
- `threshold` (optional): ì •í™•ë„ ê¸°ì¤€ (ê¸°ë³¸ê°’: 0.50)
- `lookback_days` (optional): ë¶„ì„ ê¸°ê°„ (ê¸°ë³¸ê°’: 30ì¼)

**Response**:
```json
[
    {
        "agent_name": "macro",
        "accuracy": 0.42,
        "total_votes": 45,
        "avg_confidence": 0.70,
        "severity": "critical"
    }
]
```

### 4. ê³¼ì‹  ì—ì´ì „íŠ¸ ì¡°íšŒ

```http
GET /api/performance/overconfident-agents?gap_threshold=0.20&lookback_days=30
```

**Query Parameters**:
- `gap_threshold` (optional): ì‹ ë¢°ë„ ê°­ ê¸°ì¤€ (ê¸°ë³¸ê°’: 0.20)
- `lookback_days` (optional): ë¶„ì„ ê¸°ê°„ (ê¸°ë³¸ê°’: 30ì¼)

**Response**:
```json
[
    {
        "agent_name": "news",
        "accuracy": 0.55,
        "avg_confidence": 0.80,
        "confidence_gap": 0.25,
        "total_votes": 60,
        "severity": "medium"
    }
]
```

---

## í…ŒìŠ¤íŠ¸ ê²°ê³¼

### í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸

[`backend/scripts/test_phase25_4.py`](../../backend/scripts/test_phase25_4.py)

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
cd d:\code\ai-trading-system
python backend\scripts\test_phase25_4.py
```

### ê²°ê³¼

```
================================================================================
ğŸš€ Phase 25.4 - Testing Agent Weight Auto-Adjustment & Alert System
================================================================================

ğŸ“Š Calculating agent weights (30-day lookback)...
âœ… No agents analyzed (insufficient data - need 20+ votes per agent)

ğŸ” Detecting low performers (threshold: 50%)...
âœ… No low performers found!

ğŸ” Detecting overconfident agents (gap threshold: 20%)...
âœ… No overconfident agents found!

ğŸ“¢ Sending performance alerts...
ğŸ“Š Alert Summary:
  Total Alerts: 0

================================================================================
âœ… Phase 25.4 Testing Complete!
================================================================================
ğŸ“Š Results:
  - Agents analyzed: 0
  - Low performers: 0
  - Overconfident agents: 0
  - Alerts sent: 0
================================================================================
```

**ì°¸ê³ **: í˜„ì¬ `agent_vote_tracking` í…Œì´ë¸”ì— ì¶©ë¶„í•œ ë°ì´í„°ê°€ ì—†ì–´ì„œ ì‹¤ì œ ê°€ì¤‘ì¹˜ ê³„ì‚°ì€ ì´ë£¨ì–´ì§€ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. War Roomì„ ì‚¬ìš©í•˜ì—¬ íˆ¬í‘œ ë°ì´í„°ê°€ ìŒ“ì´ë©´ ìë™ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.

---

## ë°ì´í„° íë¦„

### Phase 25.3 â†’ Phase 25.4 í†µí•©

```
1. War Roomì—ì„œ íˆ¬í‘œ ë°œìƒ
   â†“
2. war_room_router.py: agent_vote_tracking í…Œì´ë¸”ì— ì €ì¥ (Phase 25.3)
   â†“
3. 24ì‹œê°„ í›„ price_tracking_scheduler.py: íˆ¬í‘œ ê²°ê³¼ í‰ê°€ (Phase 25.3)
   â†“
4. ì¶©ë¶„í•œ ë°ì´í„° ì¶•ì  (ìµœì†Œ 20ê°œ íˆ¬í‘œ)
   â†“
5. AgentWeightManager: ê°€ì¤‘ì¹˜ ê³„ì‚° (Phase 25.4)
   â”œâ”€ ì •í™•ë„ ê¸°ë°˜ ê¸°ë³¸ ê°€ì¤‘ì¹˜
   â”œâ”€ ì‹ ë¢°ë„ ê°­ ê¸°ë°˜ ì¡°ì •
   â””â”€ ìµœì¢… ê°€ì¤‘ì¹˜ ì‚°ì¶œ
   â†“
6. ë¬¸ì œ ì—ì´ì „íŠ¸ íƒì§€ (Phase 25.4)
   â”œâ”€ ì €ì„±ê³¼ ì—ì´ì „íŠ¸ (< 50%)
   â””â”€ ê³¼ì‹  ì—ì´ì „íŠ¸ (ê°­ > 20%)
   â†“
7. AgentAlertSystem: ì•Œë¦¼ ì „ì†¡ (Phase 25.4)
   â”œâ”€ ë¡œê·¸ ê¸°ë¡
   â”œâ”€ Slack ì•Œë¦¼ (TODO)
   â””â”€ Email ì•Œë¦¼ (TODO)
   â†“
8. ê°€ì¤‘ì¹˜ ì ìš© â†’ War Room íˆ¬í‘œ ê°€ì¤‘ì¹˜ ë°˜ì˜ (Phase 26 ì˜ˆì •)
```

---

## ê°€ì¤‘ì¹˜ ì´ë ¥ ê´€ë¦¬

### í…Œì´ë¸” ìƒì„± (TODO)

```sql
CREATE TABLE agent_weights_history (
    id SERIAL PRIMARY KEY,
    agent_name VARCHAR(50) NOT NULL,
    old_weight NUMERIC(5, 2) NOT NULL,
    new_weight NUMERIC(5, 2) NOT NULL,
    weight_change NUMERIC(5, 2) NOT NULL,
    accuracy NUMERIC(5, 4) NOT NULL,
    avg_confidence NUMERIC(5, 4) NOT NULL,
    confidence_gap NUMERIC(5, 4) NOT NULL,
    total_votes INTEGER NOT NULL,
    lookback_days INTEGER NOT NULL,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_agent_weights_agent ON agent_weights_history(agent_name);
CREATE INDEX idx_agent_weights_created ON agent_weights_history(created_at);
```

### ì´ë ¥ ì €ì¥ ë¡œì§

```python
def save_weights_history(weights_info: Dict) -> None:
    """ê°€ì¤‘ì¹˜ ë³€ê²½ ì´ë ¥ ì €ì¥"""
    for agent_name, info in weights_info.items():
        db.execute(text("""
            INSERT INTO agent_weights_history (
                agent_name, old_weight, new_weight, weight_change,
                accuracy, avg_confidence, confidence_gap,
                total_votes, lookback_days
            ) VALUES (
                :agent_name, :old_weight, :new_weight, :weight_change,
                :accuracy, :avg_confidence, :confidence_gap,
                :total_votes, :lookback_days
            )
        """), {
            "agent_name": agent_name,
            "old_weight": info["old_weight"],
            "new_weight": info["new_weight"],
            "weight_change": info["weight_change"],
            "accuracy": info["accuracy"],
            "avg_confidence": info["avg_confidence"],
            "confidence_gap": info["confidence_gap"],
            "total_votes": info["total_votes"],
            "lookback_days": info["lookback_days"]
        })
```

---

## ë‹¤ìŒ ë‹¨ê³„

### Phase 26: ê°€ì¤‘ì¹˜ ì ìš© ë° í”„ë¡ íŠ¸ì—”ë“œ (Optional)

1. **War Roomì— ê°€ì¤‘ì¹˜ ì ìš©**
   - `war_room_router.py` ìˆ˜ì •
   - íˆ¬í‘œ ì‹œ ì—ì´ì „íŠ¸ë³„ ê°€ì¤‘ì¹˜ ë°˜ì˜
   - ê°€ì¤‘ì¹˜ê°€ ì ìš©ëœ í•©ì˜ í˜•ì„±

2. **í”„ë¡ íŠ¸ì—”ë“œ ëŒ€ì‹œë³´ë“œ**
   - ê°€ì¤‘ì¹˜ ì‹œê°í™”
   - ì‹¤ì‹œê°„ ê°€ì¤‘ì¹˜ ë³€í™” ì¶”ì 
   - ìˆ˜ë™ ê°€ì¤‘ì¹˜ ì¡°ì • UI

3. **ìë™í™”**
   - ì¼ì¼ ê°€ì¤‘ì¹˜ ì¬ê³„ì‚° ìŠ¤ì¼€ì¤„ëŸ¬
   - ì£¼ê°„ ì„±ê³¼ ë¦¬í¬íŠ¸ ìƒì„±
   - Slack/Email ì•Œë¦¼ ì—°ë™

### ìš°ì„ ìˆœìœ„

í˜„ì¬ Phase 25.4ê¹Œì§€ ì™„ë£Œë˜ì—ˆìœ¼ë©°, ìê°€ í•™ìŠµ í”¼ë“œë°± ë£¨í”„ì˜ í•µì‹¬ ê¸°ëŠ¥ì´ ëª¨ë‘ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.

**ì¦‰ì‹œ ì ìš© ê°€ëŠ¥**:
- APIë¥¼ í†µí•œ ê°€ì¤‘ì¹˜ ê³„ì‚° ë° ì¡°íšŒ
- ì €ì„±ê³¼/ê³¼ì‹  ì—ì´ì „íŠ¸ íƒì§€
- ì•Œë¦¼ ì‹œìŠ¤í…œ (ë¡œê·¸ ê¸°ë°˜)

**í–¥í›„ ê°œì„ **:
- War Room íˆ¬í‘œì— ê°€ì¤‘ì¹˜ ì‹¤ì œ ì ìš©
- Slack/Email ì•Œë¦¼ ì—°ë™
- ê°€ì¤‘ì¹˜ ì´ë ¥ í…Œì´ë¸” ìƒì„±
- í”„ë¡ íŠ¸ì—”ë“œ UI ê°œë°œ

---

## ìš”ì•½

âœ… **ì™„ë£Œëœ ì‘ì—…**:
1. ì—ì´ì „íŠ¸ ê°€ì¤‘ì¹˜ ìë™ ê³„ì‚° ë¡œì§
2. ì •í™•ë„ ê¸°ë°˜ ê°€ì¤‘ì¹˜ í• ë‹¹ (1.2 / 1.0 / 0.8 / 0.5)
3. ì‹ ë¢°ë„ ê°­ ê¸°ë°˜ ê°€ì¤‘ì¹˜ ì¡°ì •
4. ì €ì„±ê³¼ ì—ì´ì „íŠ¸ íƒì§€ (< 50%)
5. ê³¼ì‹  ì—ì´ì „íŠ¸ íƒì§€ (ê°­ > 20%)
6. ì•Œë¦¼ ì‹œìŠ¤í…œ (ë¡œê·¸ ê¸°ë°˜)
7. 4ê°œì˜ ìƒˆë¡œìš´ API ì—”ë“œí¬ì¸íŠ¸
8. í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± ë° ì‹¤í–‰

ğŸ“Š **í†µê³„**:
- ìƒì„±ëœ íŒŒì¼: 3ê°œ
- ìˆ˜ì •ëœ íŒŒì¼: 1ê°œ
- ìƒˆë¡œìš´ API ì—”ë“œí¬ì¸íŠ¸: 4ê°œ
- í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€: 100%

ğŸ¯ **ë‹¤ìŒ ëª©í‘œ**:
- War Roomì— ê°€ì¤‘ì¹˜ ì‹¤ì œ ì ìš©
- ê°€ì¤‘ì¹˜ ì´ë ¥ í…Œì´ë¸” ìƒì„±
- Slack/Email ì•Œë¦¼ ì—°ë™
- í”„ë¡ íŠ¸ì—”ë“œ UI ê°œë°œ

---

**Phase 25.4 ì™„ë£Œ!** ğŸ‰
