# War Room 프론트엔드 테스트 가이드

**날짜**: 2025-12-23
**Phase**: 25.0 - 프론트엔드 UI 테스트
**URL**: http://localhost:3002/war-room

---

## 📋 테스트 환경

### 실행 중인 서비스
- ✅ **백엔드**: http://localhost:8001
- ✅ **프론트엔드**: http://localhost:3002
- ✅ **DB**: PostgreSQL (localhost:5432)

### 저장된 세션 (DB 확인 완료)
```
Session #9: GOOGL - BUY (45.9%)
Session #8: NVDA - HOLD (54.1%)
Session #7: AAPL - BUY (69.1%)
Session #6: AAPL - BUY (72.9%)
Session #5: AAPL - BUY (52.2%)
```

---

## 🎯 테스트 시나리오

### 1️⃣ War Room 페이지 접속

**URL**: http://localhost:3002/war-room

**확인 사항**:
- [ ] 페이지 로딩 성공
- [ ] 세션 목록 표시 (최소 5개)
- [ ] "🚀 새로운 토론 시작" 섹션 보임
- [ ] 티커 입력 필드 보임
- [ ] "🎭 토론 시작" 버튼 보임

**예상 화면**:
```
┌───────────────────────────────────┐
│ 🚀 새로운 토론 시작               │
│ ┌─────────────┐ ┌──────────┐    │
│ │ [TSLA___]   │ │🎭토론시작│    │
│ └─────────────┘ └──────────┘    │
└───────────────────────────────────┘

📊 War Room 세션 목록

┌─ GOOGL ────────────────────┐
│ BUY (45.9%)                │
│ 2025-12-23 12:38           │
└────────────────────────────┘

┌─ NVDA ─────────────────────┐
│ HOLD (54.1%)               │
│ 2025-12-23 12:38           │
└────────────────────────────┘

┌─ AAPL ─────────────────────┐
│ BUY (69.1%)                │
│ 2025-12-23 12:38           │
└────────────────────────────┘
```

---

### 2️⃣ 세션 카드 클릭 (상세 보기)

**테스트**: AAPL 세션 #7 클릭

**확인 사항**:
- [ ] 카드 확장됨
- [ ] 에이전트 투표 목록 표시
  - [ ] Trader: BUY
  - [ ] Risk: HOLD
  - [ ] Analyst: BUY
  - [ ] Macro: BUY
  - [ ] Institutional: BUY
  - [ ] News: HOLD
  - [ ] **ChipWar: HOLD** ✨ (Phase 24 신규)
- [ ] PM 결정 표시: BUY (69.1%)
- [ ] Constitutional 결과 표시

**예상 화면**:
```
┌─ AAPL ─────────────────────────────┐
│ 📊 PM 결정: BUY (69.1%)            │
│                                     │
│ 🗳️ 에이전트 투표:                  │
│   ✅ Trader: BUY                   │
│   ⚠️ Risk: HOLD                    │
│   ✅ Analyst: BUY                  │
│   ✅ Macro: BUY                    │
│   ✅ Institutional: BUY            │
│   ⚠️ News: HOLD                    │
│   💎 ChipWar: HOLD (비반도체)      │
│                                     │
│ ⚖️ Constitutional: ✅ Valid        │
└─────────────────────────────────────┘
```

---

### 3️⃣ 새로운 토론 시작 (TSLA)

**단계**:
1. 티커 입력 필드에 "TSLA" 입력
2. "🎭 토론 시작" 버튼 클릭
3. 로딩 대기 (약 30초)
4. 결과 알림창 확인

**확인 사항**:
- [ ] 버튼이 "🔄 실행중..." 으로 변경
- [ ] 입력 필드 비활성화
- [ ] 약 30초 후 알림창 표시
- [ ] 알림 내용:
  ```
  ✅ TSLA War Room 토론 완료!
  결과: BUY/SELL/HOLD (XX%)
  ```
- [ ] 세션 목록 자동 갱신
- [ ] 새 TSLA 세션이 맨 위에 추가됨
- [ ] 입력 필드 초기화

---

### 4️⃣ 세션 목록 자동 갱신

**테스트**: 10초 대기

**확인 사항**:
- [ ] 10초마다 자동 갱신 (React Query refetchInterval)
- [ ] 새로운 세션이 있으면 자동으로 표시
- [ ] 깜빡임 없이 부드럽게 업데이트

---

### 5️⃣ 필터 기능 (선택)

**티커 검색**:
- [ ] "AAPL" 입력 → AAPL 세션만 표시
- [ ] "NV" 입력 → NVDA 세션 표시
- [ ] 검색어 지우기 → 전체 세션 표시

**상태 필터**:
- [ ] "전체" → 모든 세션
- [ ] "활성" → 진행 중인 세션만
- [ ] "완료" → 완료된 세션만

---

## 🐛 알려진 이슈 & 해결

### Issue #1: ChipWar 투표 표시 안 됨
**증상**: ChipWar 에이전트 투표가 UI에 표시되지 않음

**원인**: WarRoomCard.tsx에서 chip_war_vote 필드를 읽지 않음

**해결 (선택)**:
```typescript
// WarRoomCard.tsx
const votes = {
    trader: session.votes.trader,
    risk: session.votes.risk,
    analyst: session.votes.analyst,
    macro: session.votes.macro,
    institutional: session.votes.institutional,
    news: session.votes.news,
    chip_war: session.votes.chip_war,  // ← 추가 필요
};
```

---

## ✅ 테스트 체크리스트

### 기본 기능
- [ ] War Room 페이지 로딩
- [ ] 세션 목록 표시 (5개 세션)
- [ ] 세션 카드 클릭 → 상세 보기
- [ ] 에이전트 투표 표시
- [ ] PM 결정 표시
- [ ] Constitutional 결과 표시

### 새로운 토론 시작
- [ ] 티커 입력 필드 작동
- [ ] "토론 시작" 버튼 클릭
- [ ] 로딩 상태 표시
- [ ] 토론 완료 알림
- [ ] 세션 목록 자동 갱신
- [ ] 새 세션 맨 위에 추가

### 자동 갱신
- [ ] 10초마다 세션 목록 갱신
- [ ] 부드러운 UI 업데이트

### 에러 처리
- [ ] 빈 티커 입력 → 에러 메시지
- [ ] API 오류 → 에러 메시지 표시
- [ ] 네트워크 오류 → 재시도 안내

---

## 🎯 성공 기준

### ✅ 필수 (Phase 25.0)
- [x] 세션 목록 표시 (API 연동 완료)
- [ ] 세션 상세 보기 (카드 확장)
- [ ] 새로운 토론 시작 (TSLA 테스트)
- [ ] 자동 갱신 (10초 interval)

### 🔄 선택 (Phase 25.1+)
- [ ] ChipWar 투표 UI에 표시
- [ ] 에이전트별 신뢰도 차트
- [ ] 실시간 뉴스 피드
- [ ] 시그널 히스토리

---

## 📸 스크린샷 가이드

테스트 중 다음 화면을 캡처해주세요:

1. **War Room 메인 페이지** (세션 목록)
2. **AAPL 세션 상세** (카드 확장)
3. **새로운 토론 시작** (TSLA 입력)
4. **토론 완료 알림**
5. **TSLA 세션 추가됨** (갱신 후)

---

## 🚀 다음 단계

### 프론트엔드 테스트 완료 후:
1. **REAL MODE 테스트** - KIS 모의투자 API 통합
2. **Phase 25.1** - 24시간 수익률 추적 UI
3. **자기학습 대시보드** - 에이전트 성과 분석

---

**작성**: 2025-12-23
**상태**: 테스트 대기 중
**우선순위**: 높음
